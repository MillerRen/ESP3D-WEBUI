# 逻辑梳理
1. 首屏loading信息
2. onload 
    1. 关闭loading
    2. 显示连接弹窗
    3. 处理IE面板高度问题
2. 连接弹窗（connectdlg） [ESP800]
    1. 可通过参数决定是否获取固件版本信息
    2. 默认获取
    3. 获取固件信息失败，显示重试按钮和失败信息
    4. 获取固件信息成功，解析固件信息字符串，判断是否需要登录，如果需要则打开登录框，并且顶部导航显示用户按钮
3. 登录框（logindlg）
    1. 根据参数判断是否需要先检查登录信息
    2. 检查后根据角色决定是否显示登录表单
    3. 关闭弹窗回调，进入下一个流程
4. 初始化UI（initUI) 
    1. 如果需要登录，打开连接弹窗（不获取固件版本信息，因为获取过了）？这里是否应该打开登录弹窗？
    2. 更新当前启动进度为第一步
    3. 如果缺少固件类型，UI版本，是否支持SD卡这三个信息，弹窗提示缺少数据，（这里不应该进行下一步，应该退出，因为缺少固件信息，后面都是错的）
    4. 更新固件信息到界面（主要是根据固件类型开启或关闭面板，及其特性，初始化默认配置）和浏览器标题上
    5. 激活主面板，如果是grbl固件，激活grbl面板中的主面板
    6. 进入下一个流程
5. 获取设置(initUI_2) [ESP400]
    1. 更新当前启动进度为第二步
    2. 如果http阻塞给出提示并退出？（失败了怎么重试？）
    3. 获取设置信息，更新但是不显示设置面板
    4. 同时进入下一步
6. 获取参数(initUI_3) /preferences.json /macrocfg.json
    1. 更新启动进度为第三步
    2. 初始化控制面板（获取宏命令）
    3. 初始化grbl面板
    4. 获取参数信息，解析并更新界面
    5. 同时进入下一步
7. 初始化面板
    1. 更新启动进度为第四步
    2. 初始化温度面板
    3. 初始化挤出机面板
    4. 初始化SD卡面板
    5. 更新启动进度为第5步（完成）
    6. 关闭启动弹窗
8. 显示主UI
